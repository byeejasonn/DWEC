<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejercicios DOM</title>
</head>
<body>

    <h3>Ejercicio 1</h3>
    <button id="boton">Cantidad de Hijos del DIV</button>
    <div id="contenedor" class="ejercicio1">
        <p>Este es el primer párrafo</p>
        <p>Este es el segundo párrafo</p>
        <p>Este es el tercer párrafo</p>
    </div>
    <div id="resultado">
        <!-- Este div se rellena mediante JavaScript -->
    </div>

    <hr>
    <h3>Ejercicio 2</h3>
    <div class="ejercicio2">
        <button class="btn-2">Insertar Aleatorio</button>
        
        <ul class="lista">
            <li>Primer elemento</li>
            <li>Segundo elemento</li>
        </ul>
    </div>

    <script>
        // ejercicio 1
        const boton = document.getElementById("boton");
        const resultado = document.getElementById("resultado");

        boton.addEventListener("click", () => {
            const contenedor = document.getElementById("contenedor");

            // Eliminar los nodos anteriores si ya existían
            if (resultado.childNodes.length > 1) {
                while (resultado.firstChild) {
                    resultado.removeChild(resultado.firstChild);
                }
            }

            let numeroNodos = 0;

            contenedor.childNodes.forEach(node => {
                if (node.nodeType != 3) {
                    // Creamos un párrafo
                    const e = document.createElement("p");

                    // Le añadimos el nombre del nodo
                    e.innerHTML = node.nodeName;

                    // Añadimos el resultado al div contenedor
                    resultado.appendChild(e);

                    // Sumamos la cantidad total de nodos (que no sean tipo texto)
                    numeroNodos++;
                }
            });

            // Añadir la cantidad de nodos al resultado
            const n = document.createElement("p");
            n.innerHTML = `El número de nodos (sin contar los que son de tipo texto) es ${numeroNodos}`;
            resultado.appendChild(n);
        });

        // ejercicio 2
        const lista = document.querySelector('.ejercicio2 .lista');
        const btn2 = document.querySelector('.btn-2');

        btn2.addEventListener('click', () => {
            const li = document.createElement('li');

            li.innerHTML = `Nuevo Elemento: ${Math.random()}`;

            lista.appendChild(li);
        });
    </script>
</body>
</html>